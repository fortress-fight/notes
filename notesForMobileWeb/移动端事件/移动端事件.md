# 移动端事件

## 1. touch 事件：

ontouchstart || ontouchmove || ontouchend 

注： 移动端的事件在pc上模拟可能会出现各种和实际表现不同的行为；其中
1. 通过on绑定的事件处理程序，在模拟的时候失效, 而在实际的使用中是没有问题的来；

## 2. 点透

点透触发的原因：

1） 在touchstart的时候，浏览器并不会直接去执行你的行为触发的行为，而是要等待300ms以后再去执行，这是为了能够判断是否在这个时间段发生两次点击的行为，如果是就不执行行为而是放大网页；
点透就是这样出现的；

点透：
当点击的元素，在300毫秒之后消失了，那么焦点就会飘移到下层元素身上，并触发下层元素上系统默认的事件；这个问题会出现在 a标签或者是input上；

阻止：
通过阻止默认事件来解决--ev.preventDefault();
这样做是通过阻止系统默认事件的方式解决，同时会带来一些问题，比如：a标签不在具有跳转的能力
所以需要通过js添加跳转的事件；

## 3 兼容性问题：

通过禁止掉系统的默认事件可以解决很多问题：

```
    document.addEventListener('touchstart', function (ev) {
        ev.preventDefault();
    })
```

1） 在IOS10 中，user-scalable 被禁止使用；

2）在IOS10 中，body内容溢出出现滚动条的问题, 这个问题在模拟环境中不会出现；

3）禁止系统默认的滚动条、阻止下拉回弹；

4）禁止长按选中文字、选中图片、系统默认菜单

5）解决点透问题


但是这种方式同样会有一个bug

1）阻止了表单元素的焦点事件:
点击表单元素，表单元素也不能聚焦；

解决：通过阻止冒泡解决；

使用ev.cancelBubble = true || ev.propagation()

## 4 事件对象

TouchEvent：

ev.touches: 当前在屏幕上的手指列表；
ev.targetTouches : 当前在当前元素上的手指列表；
ev.changedTouches : 涉及到当前事件的手指列表；

## 5 实例 -- 无缝滚动；

注： 想要消除 transition 只能设置transtion：0s，使用 transtion:0 就是无效