<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="button" value="点击">
	<ul></ul>
	<script src = 'ajax.js'></script>
	<script>
		var oBtn = document.querySelector('input');
		var list = document.querySelector('ul');
		oBtn.onclick = function () {
			ajax('get', 'getNew.php', '', fn)
			function fn (text) {
				var data = JSON.parse(text);
				var str = '';
				for (var i = 0; i < data.length; i++) {
					str += '<li><a href="">'+data[i].title+'</a> [<span>'+data[i].date+'</span>]</li>';
					list.innerHTML = str;
				}
			}
			setInterval(function () {
				ajax('get', 'getNew.php', '', fn)
				function fn (text) {
					var data = JSON.parse(text);
					var str = '';
					for (var i = 0; i < data.length; i++) {
						str += '<li><a href="">'+data[i].title+'</a> [<span>'+data[i].date+'</span>]</li>';
						list.innerHTML = str;
					}
				}
			}, 1000)
		}
	</script>
</body>
</html>